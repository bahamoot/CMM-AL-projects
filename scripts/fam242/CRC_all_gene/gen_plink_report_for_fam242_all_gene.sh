#!/bin/bash

project_name="fam242"
sub_project_name="plink_all_gene"

if [ ! -d "$CMM_PROJECTS_OUTPUT_DIR/$project_name" ]; then
    mkdir "$CMM_PROJECTS_OUTPUT_DIR/$project_name"
fi
if [ ! -z "$sub_project_name" ]; then
    project_out_dir="$CMM_PROJECTS_OUTPUT_DIR/$project_name/$sub_project_name"
    dataset_name="$project_name"_"$sub_project_name"
    if [ ! -d "$project_out_dir" ]; then
        mkdir "$project_out_dir"
    fi
else
    project_out_dir="$CMM_PROJECTS_OUTPUT_DIR/$project_name"
    dataset_name="$project_name"
fi


##********************************************* set parameters here *****************************************************
export PLINK_REPORTS_PROJECT_CODE="b2011097"
export PLINK_REPORTS_RUNNING_KEY="$dataset_name"
export PLINK_REPORTS_PLINK_BIN_FILE_PREFIX="$CMM_GENOTYPING_UPPSALA_PROCESSED_PLINK_BIN_FILE_PREFIX"
export PLINK_REPORTS_PLINK_PHENO_FILE="$CMM_GENOTYPING_UPPSALA_COLON_301CTRLS_WO_RELATIVES_PHENO"
export PLINK_REPORTS_FAMILIES_HAPLOTYPES_PLINK_TFILE_PREFIX="$CMM_HAPLOTYPE_CHR9_LKG_PLINK_FILE_PREFIX"
#export PLINK_REPORTS_TFAM_INDIVIDUAL_IDS="fam_8,fam_740,new_fam24_shared_only"
#export PLINK_REPORTS_TFAM_FAMILY_IDS="fam_8,fam_275,fam_478,fam_740,fam_350,fam_918,new_fam24_shared_only"
export PLINK_REPORTS_TFAM_FAMILY_IDS="740,24"
export PLINK_REPORTS_SPECIAL_FAMILIES_INFO="24:GOLD,740:LIME:MAGENTA"
export PLINK_REPORTS_PLINK_HAP_WINDOW_SIZES="1,3,5,10,20"
#export PLINK_REPORTS_PVALUE_SIGNIFICANCE_RATIO="1"
export PLINK_REPORTS_PVALUE_SIGNIFICANCE_RATIO="1e-08"
export PLINK_REPORTS_PROJECT_OUT_DIR=$project_out_dir
export PLINK_REPORTS_SLURM_LOG_DIR=$CMM_PROJECTS_SLURM_LOG_DIR

#cache_dir="$project_out_dir/cache/"
##cache_dir="$project_out_dir/cache/9_100000000_105000000"
#export PLINK_REPORTS_CACHE_DIR="$cache_dir"
#export PLINK_REPORTS_USE_CACHED_PLINK_EXTRA_INFO="On"

#export PLINK_REPORTS_PLINK_REGION="9:104400000-104444000"
#export PLINK_REPORTS_PLINK_REGION="3:137780831-137834661,3:142534763-142608045,3:151143171-151176497,3:151591430-151602408,9:107331448-107332412,9:111934255-112083245,9:139334547-139378212,9:139388895-139440315,12:10954130-10955227,22:30727976-30752937,22:30950621-30970575,22:38093010-38172564"
export PLINK_REPORTS_PLINK_REGION="3:137760831-137854661,3:142514763-142628045,3:151123171-151196497,3:151571430-151622408,9:107311448-107352412,9:111914255-112103245,9:139314547-139398212,9:139368895-139460315,12:10934130-10975227,22:30707976-30772937,22:30930621-30990575,22:38073010-38192564"
#export PLINK_REPORTS_PLINK_REGION="9:100000000-105000000"

PLINK_REPORTS_COLOR_REGION="24:DARK_SLATE_GRAY:9:98410000-98460000"
PLINK_REPORTS_COLOR_REGION+=",24:PLUM:9:103969400-104125000"
PLINK_REPORTS_COLOR_REGION+=",24:PLUM:9:104439369-104439370"
PLINK_REPORTS_COLOR_REGION+=",24:PLUM:9:100468000-100525000"
export PLINK_REPORTS_COLOR_REGION

PLINK_REPORTS_COLOR_REGION="24:DARK_SLATE_GRAY:9:98410000-98460000"
PLINK_REPORTS_COLOR_REGION+=",24:PLUM:9:103969400-104125000"
PLINK_REPORTS_COLOR_REGION+=",24:PLUM:9:104439369-104439370"
PLINK_REPORTS_COLOR_REGION+=",24:PLUM:9:100468000-100525000"
export PLINK_REPORTS_COLOR_REGION

export PLINK_REPORTS_DEVELOPER_MODE="On"
##********************************************* set parameters here *****************************************************

if [ ! -z "$PLINK_REPORTS_PROJECT_CODE" ]; then
    export CMM_LIB_DIR="$CMM_LIB_ROOT_DIR/dev_serv/scripts"
else
    export CMM_LIB_DIR="$CMM_LIB_ROOT_DIR/dev_adhoc/scripts"
fi
$CMM_LIB_DIR/exec_script_gen_plink_reports.sh
